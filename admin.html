<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Damodar Admin Panel</title>
<style>
body{
  margin:0;
  background:#0b0b0b;
  font-family:'Trebuchet MS',Arial,sans-serif;
}
.admin-wrap{
  max-width:700px;
  margin:20px auto;
}
.box{
  background:#fff;
  border:3px solid purple;
  border-radius:12px;
  padding:20px;
  margin-bottom:20px;
}
h2{
  text-align:center;
  color:purple;
  margin-bottom:15px;
}
.row{
  display:grid;
  grid-template-columns:80px 1fr 1fr 140px;
  gap:10px;
  align-items:center;
  margin-bottom:10px;
}
.row label{font-weight:900;}
input{
  padding:8px;
  font-size:15px;
  text-align:center;
  font-weight:900;
}
button{
  padding:8px 10px;
  background:#c1121f;
  color:#fff;
  font-weight:900;
  border:none;
  border-radius:20px;
  cursor:pointer;
}
.full-btn{
  width:100%;
  padding:12px;
  margin-top:15px;
}
textarea{
  width:100%;
  height:80px;
  margin-top:10px;
}
</style>
</head>
<body>

<div class="admin-wrap">

  <!-- DAILY DISPLAY -->
  <div class="box">
    <h2>Daily Display Data</h2>
    <input id="daily" placeholder="248-67-935" style="width:100%;font-size:18px;" />
    <button class="full-btn" onclick="saveDaily()">Generate Now</button>
    <textarea id="dailyOut" readonly></textarea>
  </div>

  <!-- WEEKLY ENTRY -->
  <div class="box">
    <h2>Weekly Entry</h2>

    <div class="row"><label>MON</label><input id="monA" placeholder="Open" /><input id="monB" placeholder="Close" /><button onclick="genDay('mon')">Generate</button></div>
    <div class="row"><label>TUE</label><input id="tueA" /><input id="tueB" /><button onclick="genDay('tue')">Generate</button></div>
    <div class="row"><label>WED</label><input id="wedA" /><input id="wedB" /><button onclick="genDay('wed')">Generate</button></div>
    <div class="row"><label>THU</label><input id="thuA" /><input id="thuB" /><button onclick="genDay('thu')">Generate</button></div>
    <div class="row"><label>FRI</label><input id="friA" /><input id="friB" /><button onclick="genDay('fri')">Generate</button></div>
    <div class="row"><label>SAT</label><input id="satA" /><input id="satB" /><button onclick="genDay('sat')">Generate</button></div>

    <button class="full-btn" onclick="generateWeek()">Generate New Week</button>
    <textarea id="weekOut" readonly></textarea>
  </div>
</div>

<script>
// ---- LOAD SAVED DATA ON OPEN ----
window.addEventListener('load',()=>{
  const daily=localStorage.getItem('damodarDaily');
  if(daily){ dailyInput.value=daily; dailyOut.value='SAVED: '+daily; }

  const week=JSON.parse(localStorage.getItem('damodarWeek')||'[]');
  const days=['mon','tue','wed','thu','fri','sat'];
  days.forEach((d,i)=>{
    if(week[i]){
      document.getElementById(d+'A').value=week[i][0];
      document.getElementById(d+'B').value=week[i][1];
    }
  });
});

const dailyInput=document.getElementById('daily');

// ---- DAILY SAVE (FIXED) ----
function saveDaily(){
  const v=dailyInput.value.trim();
  if(!v) return alert('Daily empty');
  localStorage.setItem('damodarDaily',v);
  dailyOut.value='SAVED & FIXED: '+v;
}

// ---- GENERATE DAY + AUTO SAVE ----
function genDay(d){
  const a=document.getElementById(d+'A');
  const b=document.getElementById(d+'B');
  a.value=String(Math.floor(Math.random()*100)).padStart(2,'0');
  b.value=String(Math.floor(Math.random()*100)).padStart(2,'0');
  autoSaveWeek();
}

// ---- AUTO SAVE WEEK ----
function autoSaveWeek(){
  const week=[
    [monA.value,monB.value],
    [tueA.value,tueB.value],
    [wedA.value,wedB.value],
    [thuA.value,thuB.value],
    [friA.value,friB.value],
    [satA.value,satB.value]
  ];
  localStorage.setItem('damodarWeek',JSON.stringify(week));
  weekOut.value='AUTO SAVED & FIXED';
}

// ---- NEW WEEK RESET ----
function generateWeek(){
  autoSaveWeek();
  alert('Week SAVED & LOCKED');
}
</script>

</body>
</html>
