<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Damodar Panel Chart</title>

<style>
body{margin:0;background:#0b0b0b;color:#fff;font-family:Arial,sans-serif;}
header{color:red;text-align:center;font-weight:900;font-size:22px;margin-top:10px;}
.sub-header{color:#fff;border-top:2px solid blue;text-align:center;padding:2px 0;font-weight:700;}
.description{text-align:center;max-width:900px;margin:0 auto;padding:2px 10px;}
.blue-line{width:100%;height:5px;background:#0033cc;margin:14px 0;}
.yellow-strip{background:#ffff00;border:3px solid red;padding:12px 0;text-align:center;}
.yellow-strip .title{color:#0033cc;font-weight:900;font-size:28px;font-family:"Times New Roman",Georgia,serif;}
.dailyDisplay{font-size:24px;font-weight:900;color:#000;margin-top:6px;font-family:"Times New Roman",Georgia,serif;}
.panel-box{max-width:760px;width:55%;margin:10px auto;border:3px solid purple;border-radius:8px;padding:6px;background:#b30000;color:#fff;min-height:120px;}
.day-col{display:flex;align-items:center;justify-content:center;gap:4px;}
.left-panel,.right-panel{display:flex;flex-direction:column;gap:1px;}
.day-top,.day-bottom{font-size:12px;font-weight:700;line-height:1;color:#000;}
.day-jodi{font-size:32px;font-weight:900;min-width:34px;text-align:center;font-family:"Times New Roman",Georgia,serif;color:#000;}
.day-jodi.red{color:#c1121f;text-shadow:0 0 2px #ff9999;}
.disclaimer{text-align:center;color:#ccc;font-size:12px;line-height:1.6;max-width:900px;margin:20px auto 40px;padding:0 12px;}
.nav-btn{margin-top:8px;background:#0033cc;color:#fff;padding:8px 22px;border-radius:24px;font-weight:900;border:none;cursor:pointer;}
.info{color:#fff;text-align:center;font-size:14px;padding:20px;}
@media(max-width:768px){
  .panel-box{width:100%;max-width:none;padding:4px;overflow-x:auto;}
  .day-col{gap:2px;}
  .day-jodi{font-size:22px;min-width:28px;}
  .day-top,.day-bottom{font-size:10px;}
  header{font-size:17px;}
  .yellow-strip .title{font-size:20px;}
}

@media(max-width:420px){
  .day-jodi{font-size:20px;}
  .day-top,.day-bottom{font-size:9px;}
}
  .day-jodi{font-size:26px;}
  .day-top,.day-bottom{font-size:11px;}
  header{font-size:18px;}
  .yellow-strip .title{font-size:22px;}
}
</style>
</head>
<body>

<header>DAMODAR CHART</header>
<div class="sub-header">Damodar Panel Chart Result</div>
<div class="description">This page is intended strictly for informational and educational purposes only.</div>

<div class="blue-line"></div>
<div class="yellow-strip"><div class="title">DAMODAR</div><div class="dailyDisplay">---</div><button class="nav-btn" onclick="location.reload()">REFRESH</button></div>
<div class="blue-line"></div>

<div style="text-align:center;margin:10px 0;"><button class="nav-btn" onclick="goBottom()">GO TO BOTTOM</button></div>
<div class="panel-box" id="weeks"><div class="info">Panel data loadingâ€¦</div></div>
<div style="text-align:center;margin:10px 0;"><button class="nav-btn" onclick="goTop()">GO TO TOP</button></div>

<div class="blue-line"></div>
<div class="yellow-strip"><div class="title">DAMODAR</div><div class="dailyDisplay">---</div></div>

<div style="text-align:center;margin:12px 0;">
  <button class="nav-btn" onclick="window.location.href='/'">HOME</button>
  <button class="nav-btn" style="margin-left:10px" onclick="window.location.href='/index.html'">JODI CHART</button>
</div>

<div class="disclaimer"><strong>Disclaimer:</strong><br>Information only.</div>

<script>
function goTop(){window.scrollTo({top:0,behavior:'smooth'});}function goBottom(){window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'});} 

document.addEventListener('DOMContentLoaded',()=>{

const specialJodi=["00","11","22","33","44","55","66","77","88","99","05","50","16","61","27","72","38","83","49","94"];

function renderDayCell(day){
  if(!day || !day.jodi) return '';
  const jodi=day.jodi;
  const L=day.L||'';
  const R=day.R||'';
  const cls=specialJodi.includes(jodi)?'day-jodi red':'day-jodi';
  return `<div class="day-col">
    <div class="left-panel">
      <div class="day-top">${L[0]||''}</div>
      <div class="day-top">${L[1]||''}</div>
      <div class="day-top">${L[2]||''}</div>
    </div>
    <div class="${cls}">${jodi}</div>
    <div class="right-panel">
      <div class="day-bottom">${R[0]||''}</div>
      <div class="day-bottom">${R[1]||''}</div>
      <div class="day-bottom">${R[2]||''}</div>
    </div>
  </div>`;
}

function renderWeeks(data){
  const box=document.getElementById('weeks');
  box.innerHTML='';
  if(!data.weeks || !data.weeks.length){
    box.innerHTML='<div class="info">No panel history available yet.</div>';return;
  }

  data.weeks.forEach((w,i)=>{
    if(i===0){
      box.insertAdjacentHTML('beforeend',`<div style="display:grid;grid-template-columns:86px repeat(6,1fr);background:#ffcccc;color:#000;font-weight:900;text-align:center"><div>DATE</div><div>MON</div><div>TUE</div><div>WED</div><div>THU</div><div>FRI</div><div>SAT</div></div>`);
    }else{
      box.insertAdjacentHTML('beforeend','<div style="height:1px;background:#0033cc"></div>');
    }

    box.insertAdjacentHTML('beforeend',`
    <div style="display:grid;grid-template-columns:86px repeat(6,1fr);gap:2px;background:#ffcccc;text-align:center">
      <div>
        <div style="font-size:12px;color:#000">${w.from}</div>
        <div style="font-size:11px;color:#000">to</div>
        <div style="font-size:12px;color:#000">${w.to}</div>
      </div>
      <div>${renderDayCell(w.days.mon)}</div>
      <div>${renderDayCell(w.days.tue)}</div>
      <div>${renderDayCell(w.days.wed)}</div>
      <div>${renderDayCell(w.days.thu)}</div>
      <div>${renderDayCell(w.days.fri)}</div>
      <div>${renderDayCell(w.days.sat)}</div>
    </div>`);
  });
}

// daily number from root
fetch('/data.json')
  .then(r=>r.json())
  .then(d=>document.querySelectorAll('.dailyDisplay').forEach(el=>el.textContent=d.daily||'---'))
  .catch(()=>{});

// panel history
fetch('./data.json?_='+Date.now())
  .then(r=>{if(!r.ok) throw new Error('missing'); return r.json();})
  .then(renderWeeks)
  .catch(()=>{
    document.getElementById('weeks').innerHTML='<div class="info">panel/data.json not found or invalid.</div>';
  });

});
</script>
</body>
</html>
